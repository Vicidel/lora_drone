<!--
    File: gmaps_lora_drone.html
    Author: Victor Delafontaine
    Date: May 2019
    
    Google Maps API code to create the GUI for the drone.
    Receives information from the Swisscom server app.
-->

<!DOCTYPE html>
<meta charset="utf-8"/>
<html>
    <head>
        <title>LoRa drone GUI</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <meta charset="utf-8">
        <style>
            .button {
                border-radius: 5px;
                padding: 5px;
                border: 1px solid #000;
                color: #000;
                text-decoration: none;
            }
            .button:disabled {
                color: #888;
            }
            #map {
                height: 85%;
                width: 100%;
            }
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
            #legend {
                font-family: Arial, sans-serif;
                background: #fafafa;
                padding: 10px;
                margin: 10px;
                border: 2px solid #555;
            }
            #legend h3 {
                margin-top: 0;
            }
            #legend img {
                vertical-align: middle;
            }
        </style>
        <form action="#">
            <div>
                <b>Network estimate:</b>
                <button class="button" id="network_place" type="submit" onclick="network_button_cb(this, 'place')">Place on map</button>
                <button class="button" id="network_get" type="submit" onclick="network_button_cb(this, 'get')">Get from LoRa</button>
                <button class="button" id="network_none" type="submit" onclick="network_button_cb(this, 'none')">Disable change</button>
            </div>
            <div>
                <b>Takeoff buttons:</b>
                <button class="button" disabled id="R" type="submit" onclick="takeoff_button_cb(this, 'R')">Drone 1/R</button>
                <button class="button" disabled id="G" type="submit" onclick="takeoff_button_cb(this, 'G')">Drone 2/G</button>
                <button class="button" disabled id="B" type="submit" onclick="takeoff_button_cb(this, 'B')">Drone 3/B</button>
                <button class="button" id="X" type="submit" onclick="takeoff_button_cb(this, 'X')">None</button>
                <button class="button" disabled id="all" type="submit" onclick="takeoff_button_cb(this, 'all')">Alex's button (all drones!)</button>
            </div>
            <div>
                <b>Common kill switch:</b>
                <button class="button" id="kill" type="submit" onclick="kill_button_cb(this, 1)">Kill</button>
                <button class="button" id="unkill" type="submit" onclick="kill_button_cb(this, 0)">Unkill</button>
            </div>
            <form id="form">
                <b>Parameters:</b> 
                loop(s):<input type="text" size="1" id="loop_todo" value="0">, 
                radius 1:<input type="text" size="1" id="rad1" value="0">, 
                radius 2:<input type="text" size="1" id="rad2" value="0">, 
                hover time:<input type="text" size="1" id="hover" value="0"> 
                <button id="send" type="submit" onclick="param_change()">Submit</button>
            </form>
            <div class="states"></div>
        </form> 
    </head>
    <body>
        <div id="map"></div>
        <div id="legend"><h3>Legend</h3></div>

        <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>    
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="./gmaps_lora_drone.js"></script>
        <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBxXZYRRheu8t7VGerySo98OVrOxjdcZe8&libraries=visualization&callback=init_map">
        </script>
    </body>
</html>